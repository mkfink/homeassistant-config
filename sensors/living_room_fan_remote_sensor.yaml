########################################
### Home assistant config for fan Living Room Fan Remote
### Generated by https://github.com/i3detroit/Automatic-IoT-module-programming
### on 2020-08-05 13:10:19.135158
########################################
- platform: template
  sensors:
    living_room_fan_remote_time:
      friendly_name: 'Living Room Fan Remote Time'
      value_template: '{{ states.fan.living_room_fan_remote.attributes.Time }}'
    living_room_fan_remote_uptime:
      friendly_name: 'Living Room Fan Remote Uptime'
      value_template: '{{ states.fan.living_room_fan_remote.attributes.Uptime }}'
    living_room_fan_remote_vcc:
      friendly_name: 'Living Room Fan Remote Vcc'
      unit_of_measurement: 'V'
      value_template: '{{ states.fan.living_room_fan_remote.attributes.Vcc }}'
    living_room_fan_remote_heap:
      friendly_name: 'Living Room Fan Remote Heap'
      value_template: '{{ states.fan.living_room_fan_remote.attributes.Heap }}'
    living_room_fan_remote_sleepmode:
      friendly_name: 'Living Room Fan Remote SleepMode'
      value_template: '{{ states.fan.living_room_fan_remote.attributes.SleepMode }}'
    living_room_fan_remote_sleep:
      friendly_name: 'Living Room Fan Remote Sleep'
      value_template: '{{ states.fan.living_room_fan_remote.attributes.Sleep }}'
    living_room_fan_remote_loadavg:
      friendly_name: 'Living Room Fan Remote LoadAvg'
      unit_of_measurement: '%'
      value_template: '{{ states.fan.living_room_fan_remote.attributes.LoadAvg }}'
    living_room_fan_remote_wifi_ssid:
      friendly_name: 'Living Room Fan Remote Wifi SSId'
      value_template: "{{ state_attr('fan.living_room_fan_remote', 'Wifi')['SSId'] }}"
    living_room_fan_remote_wifi_bssid:
      friendly_name: 'Living Room Fan Remote Wifi BSSId'
      value_template: "{{ state_attr('fan.living_room_fan_remote', 'Wifi')['BSSId'] }}"
    living_room_fan_remote_wifi_channel:
      friendly_name: 'Living Room Fan Remote Wifi Channel'
      value_template: "{{ state_attr('fan.living_room_fan_remote', 'Wifi')['Channel'] }}"
    living_room_fan_remote_wifi_rssi:
      friendly_name: 'Living Room Fan Remote Wifi RSSI'
      unit_of_measurement: '%'
      value_template: "{{ state_attr('fan.living_room_fan_remote', 'Wifi')['RSSI'] }}"
    living_room_fan_remote_wifi_linkcount:
      friendly_name: 'Living Room Fan Remote Wifi Link Count'
      value_template: "{{ state_attr('fan.living_room_fan_remote', 'Wifi')['LinkCount'] }}"
    living_room_fan_remote_wifi_downtime:
      friendly_name: 'Living Room Fan Remote Wifi Downtime'
      value_template: "{{ state_attr('fan.living_room_fan_remote', 'Wifi')['Downtime'] }}"
    living_room_fan_remote_wifi_ap:
      friendly_name: 'Living Room Fan Remote Wifi AP'
      value_template: >-
        {% if state_attr('fan.living_room_fan_remote', 'Wifi')['BSSId'] | string == '30:FD:38:D3:F6:73' %}
          Kitchen AP
        {% elif state_attr('fan.living_room_fan_remote', 'Wifi')['BSSId'] | string == '30:FD:38:D3:FB:6F' %}
          Office AP
        {% elif state_attr('fan.living_room_fan_remote', 'Wifi')['BSSId'] | string == '30:FD:38:D3:FB:01' %}
          Workout AP
        {% else %}
          {{ state_attr('fan.living_room_fan_remote', 'Wifi')['BSSId'] }}
        {% endif %}
