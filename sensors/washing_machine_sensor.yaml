########################################
### Home assistant config for switch Washing Machine
### Generated by https://github.com/i3detroit/Automatic-IoT-module-programming
### on 2021-04-07 15:46:55.191877
########################################
- platform: template
  sensors:
    washing_machine_wifi_ap:
      friendly_name: 'Washing Machine Wifi AP'
      value_template: >-
        {% if state_attr('switch.washing_machine', 'Wifi')['BSSId'] | string == '30:FD:38:D3:F6:73' %}
          Kitchen AP
        {% elif state_attr('switch.washing_machine', 'Wifi')['BSSId'] | string == '30:FD:38:D3:FB:6F' %}
          Office AP
        {% elif state_attr('switch.washing_machine', 'Wifi')['BSSId'] | string == '30:FD:38:D3:FB:01' %}
          Workout AP
        {% else %}
          {{ state_attr('switch.washing_machine', 'Wifi')['BSSId'] }}
        {% endif %}
    washing_machine_running:
      friendly_name: "Washing Machine Running"
      value_template: >-
        {% if states('sensor.washing_machine_power_draw') | float >= 5.0 %}
          On
        {% else %}
          Off
        {% endif %}

- platform: mqtt
  name: 'Washing Machine Total Start Time'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["TotalStartTime"] }}'
  force_update: True
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Washing Machine Total Energy'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Total"] }}'
  force_update: True
  unit_of_measurement: 'kilowatt hours'
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Washing Machine Energy Use Yesterday'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Yesterday"] }}'
  force_update: True
  unit_of_measurement: 'kilowatt hours'
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Washing Machine Energy Use Today'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Today"] }}'
  force_update: True
  unit_of_measurement: 'kilowatt hours'
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Washing Machine Energy Use Delta'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Period"] }}'
  force_update: True
  unit_of_measurement: 'Watt hours'
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Washing Machine Power Draw'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Power"] }}'
  force_update: True
  unit_of_measurement: 'Watts'
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Washing Machine Apparent Power Draw'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["ApparentPower"] }}'
  force_update: True
  unit_of_measurement: 'Watts'
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Washing Machine Reactive Power Draw'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["ReactivePower"] }}'
  force_update: True
  unit_of_measurement: 'Watts'
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Washing Machine Power Factor'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Factor"] }}'
  force_update: True
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Washing Machine Voltage'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Voltage"] }}'
  force_update: True
  unit_of_measurement: 'Volts'
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Washing Machine Current'
  state_topic: 'tele/laundry/washing-machine/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Current"] }}'
  force_update: True
  unit_of_measurement: 'Amps'
  availability_topic: 'tele/laundry/washing-machine/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

