########################################
### Home assistant config for switch Front Christmas Lights
### Generated by https://github.com/i3detroit/Automatic-IoT-module-programming
### on 2020-11-27 22:27:57.465377
########################################
- platform: template
  sensors:
    front_christmas_lights_time:
      friendly_name: 'Front Christmas Lights Time'
      value_template: '{{ states.switch.front_christmas_lights.attributes.Time }}'
    front_christmas_lights_uptime:
      friendly_name: 'Front Christmas Lights Uptime'
      value_template: '{{ states.switch.front_christmas_lights.attributes.Uptime }}'
    front_christmas_lights_vcc:
      friendly_name: 'Front Christmas Lights Vcc'
      unit_of_measurement: 'V'
      value_template: '{{ states.switch.front_christmas_lights.attributes.Vcc }}'
    front_christmas_lights_heap:
      friendly_name: 'Front Christmas Lights Heap'
      value_template: '{{ states.switch.front_christmas_lights.attributes.Heap }}'
    front_christmas_lights_sleepmode:
      friendly_name: 'Front Christmas Lights SleepMode'
      value_template: '{{ states.switch.front_christmas_lights.attributes.SleepMode }}'
    front_christmas_lights_sleep:
      friendly_name: 'Front Christmas Lights Sleep'
      value_template: '{{ states.switch.front_christmas_lights.attributes.Sleep }}'
    front_christmas_lights_loadavg:
      friendly_name: 'Front Christmas Lights LoadAvg'
      unit_of_measurement: '%'
      value_template: '{{ states.switch.front_christmas_lights.attributes.LoadAvg }}'
    front_christmas_lights_wifi_ssid:
      friendly_name: 'Front Christmas Lights Wifi SSId'
      value_template: "{{ state_attr('switch.front_christmas_lights', 'Wifi')['SSId'] }}"
    front_christmas_lights_wifi_bssid:
      friendly_name: 'Front Christmas Lights Wifi BSSId'
      value_template: "{{ state_attr('switch.front_christmas_lights', 'Wifi')['BSSId'] }}"
    front_christmas_lights_wifi_channel:
      friendly_name: 'Front Christmas Lights Wifi Channel'
      value_template: "{{ state_attr('switch.front_christmas_lights', 'Wifi')['Channel'] }}"
    front_christmas_lights_wifi_rssi:
      friendly_name: 'Front Christmas Lights Wifi RSSI'
      unit_of_measurement: '%'
      value_template: "{{ state_attr('switch.front_christmas_lights', 'Wifi')['RSSI'] }}"
    front_christmas_lights_wifi_linkcount:
      friendly_name: 'Front Christmas Lights Wifi Link Count'
      value_template: "{{ state_attr('switch.front_christmas_lights', 'Wifi')['LinkCount'] }}"
    front_christmas_lights_wifi_downtime:
      friendly_name: 'Front Christmas Lights Wifi Downtime'
      value_template: "{{ state_attr('switch.front_christmas_lights', 'Wifi')['Downtime'] }}"
    front_christmas_lights_wifi_ap:
      friendly_name: 'Front Christmas Lights Wifi AP'
      value_template: >-
        {% if state_attr('switch.front_christmas_lights', 'Wifi')['BSSId'] | string == '30:FD:38:D3:F6:73' %}
          Kitchen AP
        {% elif state_attr('switch.front_christmas_lights', 'Wifi')['BSSId'] | string == '30:FD:38:D3:FB:6F' %}
          Office AP
        {% elif state_attr('switch.front_christmas_lights', 'Wifi')['BSSId'] | string == '30:FD:38:D3:FB:01' %}
          Workout AP
        {% else %}
          {{ state_attr('switch.front_christmas_lights', 'Wifi')['BSSId'] }}
        {% endif %}
    front_christmas_lights_power:
      friendly_name: 'Front Christmas Lights Power'
      value_template: '{{ states.switch.front_christmas_lights.attributes.POWER }}'

- platform: mqtt
  name: 'Front Christmas Lights Total Start Time'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["TotalStartTime"] }}'
  force_update: True
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Front Christmas Lights Total Energy'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Total"] }}'
  force_update: True
  unit_of_measurement: 'kilowatt hours'
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Front Christmas Lights Energy Use Yesterday'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Yesterday"] }}'
  force_update: True
  unit_of_measurement: 'kilowatt hours'
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Front Christmas Lights Energy Use Today'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Today"] }}'
  force_update: True
  unit_of_measurement: 'kilowatt hours'
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Front Christmas Lights Energy Use Delta'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Period"] }}'
  force_update: True
  unit_of_measurement: 'Watt hours'
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Front Christmas Lights Power Draw'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Power"] }}'
  force_update: True
  unit_of_measurement: 'Watts'
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Front Christmas Lights Apparent Power Draw'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["ApparentPower"] }}'
  force_update: True
  unit_of_measurement: 'Watts'
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Front Christmas Lights Reactive Power Draw'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["ReactivePower"] }}'
  force_update: True
  unit_of_measurement: 'Watts'
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Front Christmas Lights Power Factor'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Factor"] }}'
  force_update: True
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Front Christmas Lights Voltage'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Voltage"] }}'
  force_update: True
  unit_of_measurement: 'Volts'
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Front Christmas Lights Current'
  state_topic: 'tele/front-yard/christmas-lights/SENSOR'
  value_template: '{{ value_json["ENERGY"]["Current"] }}'
  force_update: True
  unit_of_measurement: 'Amps'
  availability_topic: 'tele/front-yard/christmas-lights/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

