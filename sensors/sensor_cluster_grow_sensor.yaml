########################################
### Home assistant config for sensor Sensor Cluster Grow
### Generated by https://github.com/i3detroit/Automatic-IoT-module-programming
### on 2020-12-03 17:12:38.058478
########################################
- platform: mqtt
  name: 'Sensor Cluster Grow'
  state_topic: 'stat/sensors/grow-sensor/SENSOR'
  json_attributes_topic: 'tele/sensors/grow-sensor/STATE'
  availability_topic: 'tele/sensors/grow-sensor/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'
- platform: template
  sensors:
    sensor_cluster_grow_wifi_ap:
      friendly_name: 'Sensor Cluster Grow Wifi AP'
      value_template: >-
        {% if state_attr('sensor.sensor_cluster_grow', 'Wifi')['BSSId'] | string == '30:FD:38:D3:F6:73' %}
          Kitchen AP
        {% elif state_attr('sensor.sensor_cluster_grow', 'Wifi')['BSSId'] | string == '30:FD:38:D3:FB:6F' %}
          Office AP
        {% elif state_attr('sensor.sensor_cluster_grow', 'Wifi')['BSSId'] | string == '30:FD:38:D3:FB:01' %}
          Workout AP
        {% else %}
          {{ state_attr('sensor.sensor_cluster_grow', 'Wifi')['BSSId'] }}
        {% endif %}
- platform: mqtt
  name: 'Sensor Cluster Grow BME280 Temperature'
  state_topic: 'tele/sensors/grow-sensor/SENSOR'
  unit_of_measurement: '°C'
  value_template: "{{ value_json['BME280']['Temperature'] }}"
  force_update: True
  availability_topic: 'tele/sensors/grow-sensor/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Sensor Cluster Grow BME280 Pressure'
  state_topic: 'tele/sensors/grow-sensor/SENSOR'
  unit_of_measurement: 'hPa'
  value_template: "{{ value_json['BME280']['Pressure'] }}"
  force_update: True
  availability_topic: 'tele/sensors/grow-sensor/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Sensor Cluster Grow BME280 Humidity'
  state_topic: 'tele/sensors/grow-sensor/SENSOR'
  unit_of_measurement: '%'
  value_template: "{{ value_json['BME280']['Humidity'] }}"
  force_update: True
  availability_topic: 'tele/sensors/grow-sensor/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Sensor Cluster Grow Lux'
  state_topic: 'tele/sensors/grow-sensor/SENSOR'
  unit_of_measurement: 'lux'
  value_template: "{{ value_json['BH1750']['Illuminance'] }}"
  force_update: True
  availability_topic: 'tele/sensors/grow-sensor/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: template
  sensors:
    sensor_cluster_grow_pressure_kpa:
      friendly_name: "Sensor Cluster Grow Pressure"
      unit_of_measurement: 'kPa'
      value_template: "{{ states('sensor.sensor_cluster_grow_bme280_pressure') | multiply(1/10) | round(1) }}"

- platform: mqtt
  name: 'Sensor Cluster Grow DS18B20 Temperature'
  state_topic: 'tele/sensors/grow-sensor/SENSOR'
  unit_of_measurement: '°C'
  value_template: "{{ value_json['DS18B20']['Temperature'] }}"
  force_update: True
  availability_topic: 'tele/sensors/grow-sensor/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Sensor Cluster Grow Chirp Moisture'
  state_topic: 'tele/sensors/grow-sensor/SENSOR'
  value_template: "{{ value_json['CHIRP0']['Moisture'] }}"
  force_update: True
  availability_topic: 'tele/sensors/grow-sensor/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'

- platform: mqtt
  name: 'Sensor Cluster Grow Chirp Darkness'
  state_topic: 'tele/sensors/grow-sensor/SENSOR'
  value_template: "{{ value_json['CHIRP0']['Darkness'] }}"
  force_update: True
  availability_topic: 'tele/sensors/grow-sensor/LWT'
  payload_available: 'Online'
  payload_not_available: 'Offline'